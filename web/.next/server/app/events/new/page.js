(()=>{var e={};e.id=925,e.ids=[925],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2349:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),s(2847),s(5289),s(6487),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),o=s(5231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let l=["",{children:["events",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2847)),"/Volumes/Data/Coding Data/fa-tickets/web/app/events/new/page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(s.bind(s,5289)),"/Volumes/Data/Coding Data/fa-tickets/web/app/events/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6487)),"/Volumes/Data/Coding Data/fa-tickets/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Volumes/Data/Coding Data/fa-tickets/web/app/events/new/page.tsx"],u="/events/new/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/events/new/page",pathname:"/events/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},359:(e,t,s)=>{Promise.resolve().then(s.bind(s,1464))},9434:(e,t,s)=>{Promise.resolve().then(s.bind(s,7651)),Promise.resolve().then(s.bind(s,3438))},2991:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5303:()=>{},1464:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(326),r=s(7577),n=s(5047),i=s(5137);function o(e,t){if(e&&t)return new Date(`${e}T${t}:00Z`).toISOString()}function d(){let e=new Date,t=e.getUTCFullYear(),s=String(e.getUTCMonth()+1).padStart(2,"0"),a=String(e.getUTCDate()).padStart(2,"0");return`${t}-${s}-${a}`}function l(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(d()),[u,m]=(0,r.useState)(d()),[p,x]=(0,r.useState)("10:00"),[g,h]=(0,r.useState)("17:00"),[v,y]=(0,r.useState)(""),[b,f]=(0,r.useState)(""),[k,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[P,C]=(0,r.useState)(!1),[$,S]=(0,r.useState)("");async function T(){try{if(C(!0),S(""),!t.trim())throw Error("Title is required");let s=o(l,p),a=g?o(u||l,g):void 0,r={title:t.trim(),starts_at:s,ends_at:a,location:v||void 0,address_maps_link:b||void 0,contact_phone:k||void 0,contact_email:N||void 0},n=await i.h.createEvent(r);e.push(`/events/${n.id}/overview`)}catch(e){S(e?.message||"Failed to create event")}finally{C(!1)}}return(0,a.jsxs)("section",{className:"space-y-4",children:[a.jsx("div",{children:(0,a.jsxs)("a",{href:"/events",className:"group inline-flex items-center gap-2 text-sm px-2 py-1 rounded border border-transparent hover:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[a.jsx("span",{className:"inline-block",children:"←"}),a.jsx("span",{className:"sr-only sm:not-sr-only sm:inline",children:"Back to Events"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_3fr] gap-6",children:[a.jsx("nav",{className:"w-full md:w-56 lg:w-64",children:a.jsx("div",{className:"sticky top-4",children:(0,a.jsxs)("div",{className:"grid gap-1",children:[a.jsx("span",{className:"text-left block px-3 py-2 rounded border bg-gray-900 text-white dark:bg-white dark:text-black",children:"Details"}),a.jsx("span",{className:"text-left block px-3 py-2 rounded border opacity-50 cursor-not-allowed",children:"Overview"}),a.jsx("span",{className:"text-left block px-3 py-2 rounded border opacity-50 cursor-not-allowed",children:"Attendees"}),a.jsx("span",{className:"text-left block px-3 py-2 rounded border opacity-50 cursor-not-allowed",children:"Purchases"}),a.jsx("span",{className:"text-left block px-3 py-2 rounded border opacity-50 cursor-not-allowed",children:"Tickets"}),a.jsx("span",{className:"text-left block px-3 py-2 rounded border opacity-50 cursor-not-allowed",children:"Promote"}),a.jsx("span",{className:"text-left block px-3 py-2 rounded border opacity-50 cursor-not-allowed",children:"Invite"})]})})}),a.jsx("div",{children:(0,a.jsxs)("div",{className:"border rounded",children:[a.jsx("div",{className:"border-b px-4 py-3 text-base font-medium",children:"New Event"}),a.jsx("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"grid gap-3 max-w-xl",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Title"}),a.jsx("input",{value:t,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border rounded text-sm bg-white dark:bg-gray-900"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_1fr_1fr] gap-2",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Start date"}),a.jsx("input",{type:"date",value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border rounded text-sm bg-white dark:bg-gray-900"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"End date"}),a.jsx("input",{type:"date",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border rounded text-sm bg-white dark:bg-gray-900"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Start"}),a.jsx("input",{type:"time",step:60,value:p,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border rounded text-sm bg-white dark:bg-gray-900"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"End"}),a.jsx("input",{type:"time",step:60,value:g,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border rounded text-sm bg-white dark:bg-gray-900"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Location"}),a.jsx("input",{value:v,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border rounded text-sm bg-white dark:bg-gray-900"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Google Maps URL"}),a.jsx("input",{value:b,onChange:e=>f(e.target.value),placeholder:"https://maps.google.com/...",className:"w-full px-3 py-2 border rounded text-sm bg-white dark:bg-gray-900"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Event Contact"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a.jsx("input",{value:k,onChange:e=>j(e.target.value),placeholder:"Phone",className:"w-full px-3 py-2 border rounded text-sm bg-white dark:bg-gray-900"}),a.jsx("input",{value:N,onChange:e=>w(e.target.value),placeholder:"Email",className:"w-full px-3 py-2 border rounded text-sm bg-white dark:bg-gray-900"})]})]}),$&&a.jsx("div",{className:"text-sm text-red-600",children:$}),a.jsx("div",{children:a.jsx("button",{onClick:T,disabled:P,className:"px-3 py-2 border rounded text-sm hover:bg-gray-100 dark:hover:bg-gray-800",children:P?"Creating…":"Create Event"})})]})})]})})]})]})}},7651:(e,t,s)=>{"use strict";s.d(t,{TopNav:()=>d});var a=s(326),r=s(434),n=s(5047),i=s(4831);function o(){let{resolvedTheme:e,setTheme:t}=(0,i.F)(),s="Toggle theme";return a.jsx("button",{type:"button","aria-label":s,title:s,onClick:function(){t("dark"==("dark"===e?"dark":"light")?"light":"dark")},className:"px-2 py-1 border rounded text-sm hover:bg-gray-100 dark:hover:bg-gray-800",children:"Theme"})}function d(){let e=(0,n.usePathname)(),t=t=>e===t||e.startsWith(t+"/"),s=e=>(function(...e){return e.filter(Boolean).join(" ")})("px-3 py-1 rounded border inline-flex items-center gap-1",e?"bg-gray-900 text-white dark:bg-white dark:text-black":"hover:bg-gray-100 dark:hover:bg-gray-800");return(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"FlowEvents"}),a.jsx("div",{className:"ml-auto flex items-center gap-2",children:a.jsx(o,{})})]}),(0,a.jsxs)("nav",{className:"mb-8 hidden sm:flex flex-wrap gap-2",children:[a.jsx(r.default,{href:"/events",className:s(t("/events")),children:"Events"}),a.jsx(r.default,{href:"/attendees",className:s(t("/attendees")),children:"Tickets"}),a.jsx(r.default,{href:"/content",className:s(t("/content")),children:"Content"}),a.jsx(r.default,{href:"/checkin",className:s(t("/checkin")),children:"Check in"}),a.jsx(r.default,{href:"/reports",className:s(t("/reports")),children:"Reports"}),a.jsx(r.default,{href:"/admin/email-logs",className:s(t("/admin")),children:"App Admin"})]})]})}},3438:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>n});var a=s(326),r=s(4831);function n({children:e,...t}){return a.jsx(r.f,{attribute:"class",defaultTheme:"system",enableSystem:!0,...t,children:e})}},5137:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});let a=process.env.NEXT_PUBLIC_API_TOKEN,r=process.env.BACKEND_ORIGIN||"/api";async function n(e,t){let s={"Content-Type":"application/json",...t?.headers||{}};a&&(s["X-Auth-Token"]=a);let n=await fetch(`${r}${e}`,{headers:s,...t,cache:"no-store"});if(!n.ok){let e=`${n.status} ${n.statusText}`;try{let t=await n.json();t?.detail&&(e=Array.isArray(t.detail)?t.detail.map(e=>e.msg||e).join(", "):t.detail)}catch{}throw Error(e)}if(204!==n.status)return n.json()}let i={listEvents:(e=50,t=0)=>n(`/events?limit=${e}&offset=${t}`),resolveEvent:e=>n(`/events/public/${encodeURIComponent(e)}`),getEvent:e=>n(`/events/${e}`),createEvent:e=>n("/events",{method:"POST",body:JSON.stringify(e)}),updateEvent:(e,t)=>n(`/events/${e}`,{method:"PATCH",body:JSON.stringify(t)}),listTicketTypes:e=>n(`/events/${e}/ticket_types`),createTicketType:(e,t)=>n(`/events/${e}/ticket_types`,{method:"POST",body:JSON.stringify(t)}),updateTicketType:(e,t)=>n(`/events/ticket_types/${e}`,{method:"PATCH",body:JSON.stringify(t)}),reconciliation:e=>n(`/reports/reconciliation?event_id=${e}`),listEventPurchases:e=>n(`/events/${e}/purchases`),listAttendees:e=>n(`/events/${e}/attendees`),getPurchase:e=>n(`/purchases/${e}`),getPurchaseByGuid:e=>n(`/purchases/by-guid/${encodeURIComponent(e)}`),payPurchase:e=>n(`/purchases/${e}/pay`,{method:"POST"}),resendPurchasePayment:e=>n(`/purchases/${e}/resend_payment`,{method:"POST"}),listContacts:e=>{let t=new URLSearchParams;e?.search&&t.set("search",e.search),e?.roles&&t.set("roles",e.roles),e?.limit!=null&&t.set("limit",String(e.limit)),e?.offset!=null&&t.set("offset",String(e.offset));let s=t.toString()?`?${t.toString()}`:"";return n(`/contacts${s}`)},getContact:e=>n(`/contacts/${e}`),listContactPurchases:(e,t)=>n(`/contacts/${e}/purchases${t?`?event_id=${t}`:""}`),listHolderTickets:e=>n(`/contacts/${e}/holder_tickets`),ticketByCode:e=>n(`/tickets/by-code/${encodeURIComponent(e)}`),ticketByToken:e=>n(`/tickets/by-token/${encodeURIComponent(e)}`),payByToken:e=>n("/tickets/pay",{method:"POST",body:JSON.stringify({token:e})}),lookupTicket:(e,t)=>n(`/tickets/lookup?code=${encodeURIComponent(e)}${t?`&event_id=${t}`:""}`),checkin:(e,t)=>n("/checkin",{method:"POST",body:JSON.stringify({event_id:e,code:t})}),listEmailLogs:(e=50,t=0)=>n(`/admin/email_logs?limit=${e}&offset=${t}`),sendTestEmail:e=>n(`/test_email?to=${encodeURIComponent(e)}`,{method:"POST"}),qrUrl:(e,t=5)=>`${r}/qr?data=${encodeURIComponent(e)}&scale=${t}`}},5289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(9510);function r(){return(0,a.jsxs)("section",{className:"space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-6 w-32 bg-gray-200 dark:bg-gray-800 rounded"}),(0,a.jsxs)("div",{className:"border rounded",children:[(0,a.jsxs)("div",{className:"p-2 border-b flex gap-2",children:[a.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-800 rounded"}),a.jsx("div",{className:"h-4 w-20 bg-gray-200 dark:bg-gray-800 rounded"})]}),a.jsx("div",{className:"p-2 space-y-2",children:Array.from({length:6}).map((e,t)=>a.jsx("div",{className:"h-8 bg-gray-100 dark:bg-gray-900 rounded"},t))})]})]})}},2847:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Volumes/Data/Coding Data/fa-tickets/web/app/events/new/page.tsx`),{__esModule:n,$$typeof:i}=r;r.default;let o=(0,a.createProxy)(String.raw`/Volumes/Data/Coding Data/fa-tickets/web/app/events/new/page.tsx#default`)},6487:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x,metadata:()=>p});var a=s(9510);s(7272);var r=s(8570);let n=(0,r.createProxy)(String.raw`/Volumes/Data/Coding Data/fa-tickets/web/src/components/providers/theme.tsx`),{__esModule:i,$$typeof:o}=n;n.default;let d=(0,r.createProxy)(String.raw`/Volumes/Data/Coding Data/fa-tickets/web/src/components/providers/theme.tsx#ThemeProvider`),l=(0,r.createProxy)(String.raw`/Volumes/Data/Coding Data/fa-tickets/web/src/components/layout/TopNav.tsx`),{__esModule:c,$$typeof:u}=l;l.default;let m=(0,r.createProxy)(String.raw`/Volumes/Data/Coding Data/fa-tickets/web/src/components/layout/TopNav.tsx#TopNav`),p={title:"FlowEvents"};function x({children:e}){return a.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:a.jsx("body",{children:a.jsx(d,{children:(0,a.jsxs)("div",{className:"container mx-auto max-w-5xl p-4",children:[a.jsx(m,{}),a.jsx("div",{className:"min-h-[60vh]",children:e})]})})})})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948],()=>s(2349));module.exports=a})();